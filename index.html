<!doctype html>
<html>
<head><meta charset="utf-8"><title>Items Demo</title></head>
<body>
  <h1>Items</h1>
  <div id="list">Loading...</div>
  <input id="name" placeholder="name" />
  <input id="price" placeholder="price" type="number" />
  <button id="add">Add</button>
  <script>
    const BASE = "http://localhost:3000";
    async function load(){
      const res = await fetch(BASE + "/api/items");
      const items = await res.json();
      document.getElementById("list").innerHTML = items.length ? items.map(i=>`<div>${i.name} - ${i.price}</div>`).join("") : "<i>No items</i>";
    }
    document.getElementById("add").onclick = async () => {
      const name = document.getElementById("name").value;
      const price = Number(document.getElementById("price").value);
      const res = await fetch(BASE + "/api/items", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({name, price})
      });
      const data = await res.json();
      if(!res.ok) alert(JSON.stringify(data));
      load();
    };
    load();
  </script>
</body>
</html>
